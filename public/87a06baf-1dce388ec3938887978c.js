"use strict";(self.webpackChunkfreak_noize_studio=self.webpackChunkfreak_noize_studio||[]).push([[568],{99522:function(e,t,i){i.d(t,{Kj:function(){return F},gW:function(){return A}});var r=i(79900),n=i(74174),s=i(8517),a=i(23192),o=i(71411),h=i(86900),l=i(47046),c=i(21396),u=i(39556),d=i(14527),f=i(97662),g=i(83808),p=i(13370),m=i(96680),y=i(32825),v=i(32402),_=i(26639),I=i(49336),M=i(52328),b=i(31704),D=i(5230),S=i(53767),B=i(39609),x=i(32929),A=function(){},P=function(){this.visibleInstances={},this.batchCache=new w,this.instancesBufferSize=2048},w=function(){this.mustReturn=!1,this.visibleInstances=new Array,this.renderSelf=new Array,this.hardwareInstancedRendering=new Array},O=function(){this.instancesCount=0,this.matrixBuffer=null,this.matrixBufferSize=512,this.boundingVectors=[],this.worldMatrices=null},V=function(){this._areNormalsFrozen=!1,this._source=null,this.meshMap=null,this._preActivateId=-1,this._LODLevels=new Array,this._morphTargetManager=null},F=function(e){function t(i,r,n,s,h,l){void 0===r&&(r=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===l&&(l=!0);var c=e.call(this,i,r)||this;if(c._internalMeshDataInfo=new V,c.delayLoadState=0,c.instances=new Array,c._creationDataStorage=null,c._geometry=null,c._instanceDataStorage=new P,c._thinInstanceDataStorage=new O,c._effectiveMaterial=null,c._shouldGenerateFlatShading=!1,c._originalBuilderSideOrientation=t.DEFAULTSIDE,c.overrideMaterialSideOrientation=null,r=c.getScene(),s){if(s._geometry&&s._geometry.applyToMesh(c),a.j.DeepCopy(s,c,["name","material","skeleton","instances","parent","uniqueId","source","metadata","morphTargetManager","hasInstances","source","worldMatrixInstancedBuffer","hasLODLevels","geometry","isBlocked","areNormalsFrozen","facetNb","isFacetDataEnabled","lightSources","useBones","isAnInstance","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances","cloneMeshMap"],["_poseMatrix"]),c._internalMeshDataInfo._source=s,r.useClonedMeshMap&&(s._internalMeshDataInfo.meshMap||(s._internalMeshDataInfo.meshMap={}),s._internalMeshDataInfo.meshMap[c.uniqueId]=c),c._originalBuilderSideOrientation=s._originalBuilderSideOrientation,c._creationDataStorage=s._creationDataStorage,s._ranges){var u=s._ranges;for(var i in u)u.hasOwnProperty(i)&&u[i]&&c.createAnimationRange(i,u[i].from,u[i].to)}var d;if(s.metadata&&s.metadata.clone?c.metadata=s.metadata.clone():c.metadata=s.metadata,o.$&&o.$.HasTags(s)&&o.$.AddTagsTo(c,o.$.GetTags(s,!0)),c.setEnabled(s.isEnabled()),c.parent=s.parent,c.setPivotMatrix(s.getPivotMatrix()),c.id=i+"."+s.id,c.material=s.material,!h)for(var f=s.getDescendants(!0),g=0;g<f.length;g++){var p=f[g];p.clone&&p.clone(i+"."+p.name,c)}if(s.morphTargetManager&&(c.morphTargetManager=s.morphTargetManager),r.getPhysicsEngine){var m=r.getPhysicsEngine();if(l&&m){var y=m.getImpostorForPhysicsObject(s);y&&(c.physicsImpostor=y.clone(c))}}for(d=0;d<r.particleSystems.length;d++){var v=r.particleSystems[d];v.emitter===s&&v.clone(v.name,c)}c.refreshBoundingInfo(),c.computeWorldMatrix(!0)}return null!==n&&(c.parent=n),c._instanceDataStorage.hardwareInstancedRendering=c.getEngine().getCaps().instancedArrays,c}return(0,r.ZT)(t,e),t._GetDefaultSideOrientation=function(e){return e||t.FRONTSIDE},Object.defineProperty(t.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},set:function(e){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==e&&(e&&this._internalMeshDataInfo._sourcePositions&&(this.setVerticesData(u.o.PositionKind,this._internalMeshDataInfo._sourcePositions.slice(),!0),this._internalMeshDataInfo._sourceNormals&&this.setVerticesData(u.o.NormalKind,this._internalMeshDataInfo._sourceNormals.slice(),!0)),this._internalAbstractMeshDataInfo._computeBonesUsingShaders=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeRenderObservable",{get:function(){return this._internalMeshDataInfo._onBeforeRenderObservable||(this._internalMeshDataInfo._onBeforeRenderObservable=new n.y$),this._internalMeshDataInfo._onBeforeRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeBindObservable",{get:function(){return this._internalMeshDataInfo._onBeforeBindObservable||(this._internalMeshDataInfo._onBeforeBindObservable=new n.y$),this._internalMeshDataInfo._onBeforeBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onAfterRenderObservable",{get:function(){return this._internalMeshDataInfo._onAfterRenderObservable||(this._internalMeshDataInfo._onAfterRenderObservable=new n.y$),this._internalMeshDataInfo._onAfterRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeDrawObservable",{get:function(){return this._internalMeshDataInfo._onBeforeDrawObservable||(this._internalMeshDataInfo._onBeforeDrawObservable=new n.y$),this._internalMeshDataInfo._onBeforeDrawObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeDraw",{set:function(e){this._onBeforeDrawObserver&&this.onBeforeDrawObservable.remove(this._onBeforeDrawObserver),this._onBeforeDrawObserver=this.onBeforeDrawObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInstances",{get:function(){return this.instances.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasThinInstances",{get:function(){var e;return(null!==(e=this._thinInstanceDataStorage.instancesCount)&&void 0!==e?e:0)>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"morphTargetManager",{get:function(){return this._internalMeshDataInfo._morphTargetManager},set:function(e){this._internalMeshDataInfo._morphTargetManager!==e&&(this._internalMeshDataInfo._morphTargetManager=e,this._syncGeometryWithMorphTargetManager())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._internalMeshDataInfo._source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cloneMeshMap",{get:function(){return this._internalMeshDataInfo.meshMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnIndexed",{get:function(){return this._unIndexed},set:function(e){this._unIndexed!==e&&(this._unIndexed=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.instancesData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manualUpdateOfWorldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.manualUpdate},set:function(e){this._instanceDataStorage.manualUpdate=e},enumerable:!1,configurable:!0}),t.prototype.instantiateHierarchy=function(e,t,i){void 0===e&&(e=null);var r=!(this.getTotalVertices()>0)||t&&t.doNotInstantiate?this.clone("Clone of "+(this.name||this.id),e||this.parent,!0):this.createInstance("instance of "+(this.name||this.id));r&&(r.parent=e||this.parent,r.position=this.position.clone(),r.scaling=this.scaling.clone(),this.rotationQuaternion?r.rotationQuaternion=this.rotationQuaternion.clone():r.rotation=this.rotation.clone(),i&&i(this,r));for(var n=0,s=this.getChildTransformNodes(!0);n<s.length;n++){s[n].instantiateHierarchy(r,t,i)}return r},t.prototype.getClassName=function(){return"Mesh"},Object.defineProperty(t.prototype,"_isMesh",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.toString=function(t){var i=e.prototype.toString.call(this,t);if(i+=", n vertices: "+this.getTotalVertices(),i+=", parent: "+(this._waitingParentId?this._waitingParentId:this.parent?this.parent.name:"NONE"),this.animations)for(var r=0;r<this.animations.length;r++)i+=", animation[0]: "+this.animations[r].toString(t);if(t)if(this._geometry){var n=this.getIndices(),s=this.getVerticesData(u.o.PositionKind);s&&n&&(i+=", flat shading: "+(s.length/3===n.length?"YES":"NO"))}else i+=", flat shading: UNKNOWN";return i},t.prototype._unBindEffect=function(){e.prototype._unBindEffect.call(this);for(var t=0,i=this.instances;t<i.length;t++){i[t]._unBindEffect()}},Object.defineProperty(t.prototype,"hasLODLevels",{get:function(){return this._internalMeshDataInfo._LODLevels.length>0},enumerable:!1,configurable:!0}),t.prototype.getLODLevels=function(){return this._internalMeshDataInfo._LODLevels},t.prototype._sortLODLevels=function(){this._internalMeshDataInfo._LODLevels.sort((function(e,t){return e.distance<t.distance?1:e.distance>t.distance?-1:0}))},t.prototype.addLODLevel=function(e,t){if(t&&t._masterMesh)return M.Y.Warn("You cannot use a mesh as LOD level twice"),this;var i=new B.g(e,t);return this._internalMeshDataInfo._LODLevels.push(i),t&&(t._masterMesh=this),this._sortLODLevels(),this},t.prototype.getLODLevelAtDistance=function(e){for(var t=this._internalMeshDataInfo,i=0;i<t._LODLevels.length;i++){var r=t._LODLevels[i];if(r.distance===e)return r.mesh}return null},t.prototype.removeLODLevel=function(e){for(var t=this._internalMeshDataInfo,i=0;i<t._LODLevels.length;i++)t._LODLevels[i].mesh===e&&(t._LODLevels.splice(i,1),e&&(e._masterMesh=null));return this._sortLODLevels(),this},t.prototype.getLOD=function(e,t){var i,r=this._internalMeshDataInfo;if(!r._LODLevels||0===r._LODLevels.length)return this;t?i=t:i=this.getBoundingInfo().boundingSphere;var n=i.centerWorld.subtract(e.globalPosition).length();if(r._LODLevels[r._LODLevels.length-1].distance>n)return this.onLODLevelSelection&&this.onLODLevelSelection(n,this,this),this;for(var s=0;s<r._LODLevels.length;s++){var a=r._LODLevels[s];if(a.distance<n){if(a.mesh){if(4===a.mesh.delayLoadState)return a.mesh._checkDelayState(),this;if(2===a.mesh.delayLoadState)return this;a.mesh._preActivate(),a.mesh._updateSubMeshesBoundingInfo(this.worldMatrixFromCache)}return this.onLODLevelSelection&&this.onLODLevelSelection(n,this,a.mesh),a.mesh}}return this.onLODLevelSelection&&this.onLODLevelSelection(n,this,this),this},Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.getTotalVertices=function(){return null===this._geometry||void 0===this._geometry?0:this._geometry.getTotalVertices()},t.prototype.getVerticesData=function(e,t,i){return this._geometry?this._geometry.getVerticesData(e,t,i):null},t.prototype.getVertexBuffer=function(e){return this._geometry?this._geometry.getVertexBuffer(e):null},t.prototype.isVerticesDataPresent=function(e){return this._geometry?this._geometry.isVerticesDataPresent(e):!!this._delayInfo&&-1!==this._delayInfo.indexOf(e)},t.prototype.isVertexBufferUpdatable=function(e){return this._geometry?this._geometry.isVertexBufferUpdatable(e):!!this._delayInfo&&-1!==this._delayInfo.indexOf(e)},t.prototype.getVerticesDataKinds=function(){if(!this._geometry){var e=new Array;return this._delayInfo&&this._delayInfo.forEach((function(t){e.push(t)})),e}return this._geometry.getVerticesDataKinds()},t.prototype.getTotalIndices=function(){return this._geometry?this._geometry.getTotalIndices():0},t.prototype.getIndices=function(e,t){return this._geometry?this._geometry.getIndices(e,t):[]},Object.defineProperty(t.prototype,"isBlocked",{get:function(){return null!==this._masterMesh&&void 0!==this._masterMesh},enumerable:!1,configurable:!0}),t.prototype.isReady=function(t,i){var r,n,s,a,o,h;if(void 0===t&&(t=!1),void 0===i&&(i=!1),2===this.delayLoadState)return!1;if(!e.prototype.isReady.call(this,t))return!1;if(!this.subMeshes||0===this.subMeshes.length)return!0;if(!t)return!0;var l=this.getEngine(),c=this.getScene(),u=i||l.getCaps().instancedArrays&&(this.instances.length>0||this.hasThinInstances);this.computeWorldMatrix();var d=this.material||c.defaultMaterial;if(d)if(d._storeEffectOnSubMeshes)for(var f=0,g=this.subMeshes;f<g.length;f++){var p=(M=g[f]).getMaterial();if(p)if(p._storeEffectOnSubMeshes){if(!p.isReadyForSubMesh(this,M,u))return!1}else if(!p.isReady(this,u))return!1}else if(!d.isReady(this,u))return!1;for(var m=0,y=this.lightSources;m<y.length;m++){var v=y[m].getShadowGenerator();if(v&&(!(null===(r=v.getShadowMap())||void 0===r?void 0:r.renderList)||(null===(n=v.getShadowMap())||void 0===n?void 0:n.renderList)&&-1!==(null===(a=null===(s=v.getShadowMap())||void 0===s?void 0:s.renderList)||void 0===a?void 0:a.indexOf(this))))for(var _=0,I=this.subMeshes;_<I.length;_++){var M=I[_];if(!v.isReady(M,u,null!==(h=null===(o=M.getMaterial())||void 0===o?void 0:o.needAlphaBlendingForMesh(this))&&void 0!==h&&h))return!1}}for(var b=0,D=this._internalMeshDataInfo._LODLevels;b<D.length;b++){var S=D[b];if(S.mesh&&!S.mesh.isReady(u))return!1}return!0},Object.defineProperty(t.prototype,"areNormalsFrozen",{get:function(){return this._internalMeshDataInfo._areNormalsFrozen},enumerable:!1,configurable:!0}),t.prototype.freezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!0,this},t.prototype.unfreezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!1,this},Object.defineProperty(t.prototype,"overridenInstanceCount",{set:function(e){this._instanceDataStorage.overridenInstanceCount=e},enumerable:!1,configurable:!0}),t.prototype._preActivate=function(){var e=this._internalMeshDataInfo,t=this.getScene().getRenderId();return e._preActivateId===t||(e._preActivateId=t,this._instanceDataStorage.visibleInstances=null),this},t.prototype._preActivateForIntermediateRendering=function(e){return this._instanceDataStorage.visibleInstances&&(this._instanceDataStorage.visibleInstances.intermediateDefaultRenderId=e),this},t.prototype._registerInstanceForRenderId=function(e,t){return this._instanceDataStorage.visibleInstances||(this._instanceDataStorage.visibleInstances={defaultRenderId:t,selfDefaultRenderId:this._renderId}),this._instanceDataStorage.visibleInstances[t]||(void 0!==this._instanceDataStorage.previousRenderId&&this._instanceDataStorage.isFrozen&&(this._instanceDataStorage.visibleInstances[this._instanceDataStorage.previousRenderId]=null),this._instanceDataStorage.previousRenderId=t,this._instanceDataStorage.visibleInstances[t]=new Array),this._instanceDataStorage.visibleInstances[t].push(e),this},t.prototype._afterComputeWorldMatrix=function(){e.prototype._afterComputeWorldMatrix.call(this),this.hasThinInstances&&(this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1))},t.prototype._postActivate=function(){this.edgesShareWithInstances&&this.edgesRenderer&&this.edgesRenderer.isEnabled&&this._renderingGroup&&(this._renderingGroup._edgesRenderers.pushNoDuplicate(this.edgesRenderer),this.edgesRenderer.customInstances.push(this.getWorldMatrix()))},t.prototype.refreshBoundingInfo=function(e){if(void 0===e&&(e=!1),this._boundingInfo&&this._boundingInfo.isLocked)return this;var t=this.geometry?this.geometry.boundingBias:null;return this._refreshBoundingInfo(this._getPositionData(e),t),this},t.prototype._createGlobalSubMesh=function(e){var t=this.getTotalVertices();if(!t||!this.getIndices())return null;if(this.subMeshes&&this.subMeshes.length>0){var i=this.getIndices();if(!i)return null;var r=i.length,n=!1;if(e)n=!0;else for(var s=0,a=this.subMeshes;s<a.length;s++){var o=a[s];if(o.indexStart+o.indexCount>r){n=!0;break}if(o.verticesStart+o.verticesCount>t){n=!0;break}}if(!n)return this.subMeshes[0]}return this.releaseSubMeshes(),new p.P(0,0,t,0,this.getTotalIndices(),this)},t.prototype.subdivide=function(e){if(!(e<1)){for(var t=this.getTotalIndices(),i=t/e|0,r=0;i%3!=0;)i++;this.releaseSubMeshes();for(var n=0;n<e&&!(r>=t);n++)p.P.CreateFromIndices(0,r,n===e-1?t-r:i,this),r+=i;this.synchronizeInstances()}},t.prototype.setVerticesData=function(e,t,i,r){if(void 0===i&&(i=!1),this._geometry)this._geometry.setVerticesData(e,t,i,r);else{var n=new d.x;n.set(t,e);var s=this.getScene();new f.Z(f.Z.RandomId(),s,n,i,this)}return this},t.prototype.removeVerticesData=function(e){this._geometry&&this._geometry.removeVerticesData(e)},t.prototype.markVerticesDataAsUpdatable=function(e,t){void 0===t&&(t=!0);var i=this.getVertexBuffer(e);i&&i.isUpdatable()!==t&&this.setVerticesData(e,this.getVerticesData(e),t)},t.prototype.setVerticesBuffer=function(e){return this._geometry||(this._geometry=f.Z.CreateGeometryForMesh(this)),this._geometry.setVerticesBuffer(e),this},t.prototype.updateVerticesData=function(e,t,i,r){return this._geometry?(r?(this.makeGeometryUnique(),this.updateVerticesData(e,t,i,!1)):this._geometry.updateVerticesData(e,t,i),this):this},t.prototype.updateMeshPositions=function(e,t){void 0===t&&(t=!0);var i=this.getVerticesData(u.o.PositionKind);if(!i)return this;if(e(i),this.updateVerticesData(u.o.PositionKind,i,!1,!1),t){var r=this.getIndices(),n=this.getVerticesData(u.o.NormalKind);if(!n)return this;d.x.ComputeNormals(i,r,n),this.updateVerticesData(u.o.NormalKind,n,!1,!1)}return this},t.prototype.makeGeometryUnique=function(){if(!this._geometry)return this;if(1===this._geometry.meshes.length)return this;var e=this._geometry,t=this._geometry.copy(f.Z.RandomId());return e.releaseForMesh(this,!0),t.applyToMesh(this),this},t.prototype.setIndices=function(e,t,i){if(void 0===t&&(t=null),void 0===i&&(i=!1),this._geometry)this._geometry.setIndices(e,t,i);else{var r=new d.x;r.indices=e;var n=this.getScene();new f.Z(f.Z.RandomId(),n,r,i,this)}return this},t.prototype.updateIndices=function(e,t,i){return void 0===i&&(i=!1),this._geometry?(this._geometry.updateIndices(e,t,i),this):this},t.prototype.toLeftHanded=function(){return this._geometry?(this._geometry.toLeftHanded(),this):this},t.prototype._bind=function(e,t,i){if(!this._geometry)return this;var r,n=this.getScene().getEngine();if(this._unIndexed)r=null;else switch(i){case y.F.PointFillMode:r=null;break;case y.F.WireFrameFillMode:r=e._getLinesIndexBuffer(this.getIndices(),n);break;default:case y.F.TriangleFillMode:r=this._geometry.getIndexBuffer()}return this._geometry._bind(t,r),this},t.prototype._draw=function(e,t,i){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeDrawObservable&&this._internalMeshDataInfo._onBeforeDrawObservable.notifyObservers(this);var r=this.getScene().getEngine();return this._unIndexed||t==y.F.PointFillMode?r.drawArraysType(t,e.verticesStart,e.verticesCount,i):t==y.F.WireFrameFillMode?r.drawElementsType(t,0,e._linesIndexCount,i):r.drawElementsType(t,e.indexStart,e.indexCount,i),this},t.prototype.registerBeforeRender=function(e){return this.onBeforeRenderObservable.add(e),this},t.prototype.unregisterBeforeRender=function(e){return this.onBeforeRenderObservable.removeCallback(e),this},t.prototype.registerAfterRender=function(e){return this.onAfterRenderObservable.add(e),this},t.prototype.unregisterAfterRender=function(e){return this.onAfterRenderObservable.removeCallback(e),this},t.prototype._getInstancesRenderList=function(e,t){if(void 0===t&&(t=!1),this._instanceDataStorage.isFrozen&&this._instanceDataStorage.previousBatch)return this._instanceDataStorage.previousBatch;var i=this.getScene(),r=i._isInIntermediateRendering(),n=r?this._internalAbstractMeshDataInfo._onlyForInstancesIntermediate:this._internalAbstractMeshDataInfo._onlyForInstances,s=this._instanceDataStorage.batchCache;if(s.mustReturn=!1,s.renderSelf[e]=t||!n&&this.isEnabled()&&this.isVisible,s.visibleInstances[e]=null,this._instanceDataStorage.visibleInstances&&!t){var a=this._instanceDataStorage.visibleInstances,o=i.getRenderId(),h=r?a.intermediateDefaultRenderId:a.defaultRenderId;s.visibleInstances[e]=a[o],!s.visibleInstances[e]&&h&&(s.visibleInstances[e]=a[h])}return s.hardwareInstancedRendering[e]=!t&&this._instanceDataStorage.hardwareInstancedRendering&&null!==s.visibleInstances[e]&&void 0!==s.visibleInstances[e],this._instanceDataStorage.previousBatch=s,s},t.prototype._renderWithInstances=function(e,t,i,r,n){var s=i.visibleInstances[e._id];if(!s)return this;for(var a=this._instanceDataStorage,o=a.instancesBufferSize,h=a.instancesBuffer,l=16*(s.length+1)*4;a.instancesBufferSize<l;)a.instancesBufferSize*=2;a.instancesData&&o==a.instancesBufferSize||(a.instancesData=new Float32Array(a.instancesBufferSize/4));var c=0,d=0,f=i.renderSelf[e._id],g=!h||o!==a.instancesBufferSize;if(this._instanceDataStorage.manualUpdate||a.isFrozen&&!g)d=(f?1:0)+s.length;else{var p=this._effectiveMesh.getWorldMatrix();if(f&&(p.copyToArray(a.instancesData,c),c+=16,d++),s)for(var m=0;m<s.length;m++){s[m].getWorldMatrix().copyToArray(a.instancesData,c),c+=16,d++}}return g?(h&&h.dispose(),h=new u.l(n,a.instancesData,!0,16,!1,!0),a.instancesBuffer=h,this.setVerticesBuffer(h.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(h.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(h.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(h.createVertexBuffer("world3",12,4))):this._instanceDataStorage.isFrozen||h.updateDirectly(a.instancesData,0,d),this._processInstancedBuffers(s,f),this.getScene()._activeIndices.addCount(e.indexCount*d,!1),this._bind(e,r,t),this._draw(e,t,d),n.unbindInstanceAttributes(),this},t.prototype._renderWithThinInstances=function(e,t,i,r){var n,s,a=null!==(s=null===(n=this._thinInstanceDataStorage)||void 0===n?void 0:n.instancesCount)&&void 0!==s?s:0;this.getScene()._activeIndices.addCount(e.indexCount*a,!1),this._bind(e,i,t),this._draw(e,t,a),r.unbindInstanceAttributes()},t.prototype._processInstancedBuffers=function(e,t){},t.prototype._processRendering=function(e,t,i,r,n,s,a,o){var h=this.getScene(),l=h.getEngine();if(s&&t.getRenderingMesh().hasThinInstances)return this._renderWithThinInstances(t,r,i,l),this;if(s)this._renderWithInstances(t,r,n,i,l);else{var c=0;n.renderSelf[t._id]&&(a&&a(!1,e._effectiveMesh.getWorldMatrix(),o),c++,this._draw(t,r,this._instanceDataStorage.overridenInstanceCount));var u=n.visibleInstances[t._id];if(u){var d=u.length;c+=d;for(var f=0;f<d;f++){var g=u[f].getWorldMatrix();a&&a(!0,g,o),this._draw(t,r)}}h._activeIndices.addCount(t.indexCount*c,!1)}return this},t.prototype._rebuild=function(){this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null),e.prototype._rebuild.call(this)},t.prototype._freeze=function(){if(this.subMeshes){for(var e=0;e<this.subMeshes.length;e++)this._getInstancesRenderList(e);this._effectiveMaterial=null,this._instanceDataStorage.isFrozen=!0}},t.prototype._unFreeze=function(){this._instanceDataStorage.isFrozen=!1,this._instanceDataStorage.previousBatch=null},t.prototype.render=function(e,t,i){var r=this.getScene();if(this._internalAbstractMeshDataInfo._isActiveIntermediate?this._internalAbstractMeshDataInfo._isActiveIntermediate=!1:this._internalAbstractMeshDataInfo._isActive=!1,this._checkOcclusionQuery())return this;var n=this._getInstancesRenderList(e._id,!!i);if(n.mustReturn)return this;if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeRenderObservable&&this._internalMeshDataInfo._onBeforeRenderObservable.notifyObservers(this);var s,a=r.getEngine(),o=n.hardwareInstancedRendering[e._id]||e.getRenderingMesh().hasThinInstances,h=this._instanceDataStorage,l=e.getMaterial();if(!l)return this;if(!h.isFrozen||!this._effectiveMaterial||this._effectiveMaterial!==l){if(l._storeEffectOnSubMeshes){if(!l.isReadyForSubMesh(this,e,o))return this}else if(!l.isReady(this,o))return this;this._effectiveMaterial=l}t&&a.setAlphaMode(this._effectiveMaterial.alphaMode),s=this._effectiveMaterial._storeEffectOnSubMeshes?e.effect:this._effectiveMaterial.getEffect();for(var c=0,u=r._beforeRenderingMeshStage;c<u.length;c++){u[c].action(this,e,n,s)}if(!s)return this;var d,f=i||this._effectiveMesh;if(h.isFrozen||!this._effectiveMaterial.backFaceCulling&&null===this.overrideMaterialSideOrientation)d=h.sideOrientation;else{var g=f._getWorldMatrixDeterminant();null==(d=this.overrideMaterialSideOrientation)&&(d=this._effectiveMaterial.sideOrientation),g<0&&(d=d===y.F.ClockWiseSideOrientation?y.F.CounterClockWiseSideOrientation:y.F.ClockWiseSideOrientation),h.sideOrientation=d}var p=this._effectiveMaterial._preBind(s,d);this._effectiveMaterial.forceDepthWrite&&a.setDepthWrite(!0);var m=r.forcePointsCloud?y.F.PointFillMode:r.forceWireframe?y.F.WireFrameFillMode:this._effectiveMaterial.fillMode;this._internalMeshDataInfo._onBeforeBindObservable&&this._internalMeshDataInfo._onBeforeBindObservable.notifyObservers(this),o||this._bind(e,s,m);var v=f.getWorldMatrix();this._effectiveMaterial._storeEffectOnSubMeshes?this._effectiveMaterial.bindForSubMesh(v,this,e):this._effectiveMaterial.bind(v,this),!this._effectiveMaterial.backFaceCulling&&this._effectiveMaterial.separateCullingPass&&(a.setState(!0,this._effectiveMaterial.zOffset,!1,!p),this._processRendering(this,e,s,m,n,o,this._onBeforeDraw,this._effectiveMaterial),a.setState(!0,this._effectiveMaterial.zOffset,!1,p)),this._processRendering(this,e,s,m,n,o,this._onBeforeDraw,this._effectiveMaterial),this._effectiveMaterial.unbind();for(var _=0,I=r._afterRenderingMeshStage;_<I.length;_++){I[_].action(this,e,n,s)}return this._internalMeshDataInfo._onAfterRenderObservable&&this._internalMeshDataInfo._onAfterRenderObservable.notifyObservers(this),this},t.prototype._onBeforeDraw=function(e,t,i){e&&i&&i.bindOnlyWorldMatrix(t)},t.prototype.cleanMatrixWeights=function(){this.isVerticesDataPresent(u.o.MatricesWeightsKind)&&(this.isVerticesDataPresent(u.o.MatricesWeightsExtraKind)?this.normalizeSkinWeightsAndExtra():this.normalizeSkinFourWeights())},t.prototype.normalizeSkinFourWeights=function(){for(var e=this.getVerticesData(u.o.MatricesWeightsKind),t=e.length,i=0;i<t;i+=4){var r=e[i]+e[i+1]+e[i+2]+e[i+3];if(0===r)e[i]=1;else{var n=1/r;e[i]*=n,e[i+1]*=n,e[i+2]*=n,e[i+3]*=n}}this.setVerticesData(u.o.MatricesWeightsKind,e)},t.prototype.normalizeSkinWeightsAndExtra=function(){for(var e=this.getVerticesData(u.o.MatricesWeightsExtraKind),t=this.getVerticesData(u.o.MatricesWeightsKind),i=t.length,r=0;r<i;r+=4){var n=t[r]+t[r+1]+t[r+2]+t[r+3];if(0===(n+=e[r]+e[r+1]+e[r+2]+e[r+3]))t[r]=1;else{var s=1/n;t[r]*=s,t[r+1]*=s,t[r+2]*=s,t[r+3]*=s,e[r]*=s,e[r+1]*=s,e[r+2]*=s,e[r+3]*=s}}this.setVerticesData(u.o.MatricesWeightsKind,t),this.setVerticesData(u.o.MatricesWeightsKind,e)},t.prototype.validateSkinning=function(){var e=this.getVerticesData(u.o.MatricesWeightsExtraKind),t=this.getVerticesData(u.o.MatricesWeightsKind);if(null===t||null==this.skeleton)return{skinned:!1,valid:!0,report:"not skinned"};for(var i=t.length,r=0,n=0,s=0,a=0,o=null===e?4:8,h=new Array,l=0;l<=o;l++)h[l]=0;for(l=0;l<i;l+=4){for(var c=t[l],d=c,f=0===d?0:1,g=1;g<o;g++){var p=g<4?t[l+g]:e[l+g-4];p>c&&r++,0!==p&&f++,d+=p,c=p}if(h[f]++,f>s&&(s=f),0===d)n++;else{var m=1/d,y=0;for(g=0;g<o;g++)y+=g<4?Math.abs(t[l+g]-t[l+g]*m):Math.abs(e[l+g-4]-e[l+g-4]*m);y>.001&&a++}}var v=this.skeleton.bones.length,_=this.getVerticesData(u.o.MatricesIndicesKind),I=this.getVerticesData(u.o.MatricesIndicesExtraKind),M=0;for(l=0;l<i;l+=4)for(g=0;g<o;g++){var b=g<4?_[l+g]:I[l+g-4];(b>=v||b<0)&&M++}return{skinned:!0,valid:0===n&&0===a&&0===M,report:"Number of Weights = "+i/4+"\nMaximum influences = "+s+"\nMissing Weights = "+n+"\nNot Sorted = "+r+"\nNot Normalized = "+a+"\nWeightCounts = ["+h+"]\nNumber of bones = "+v+"\nBad Bone Indices = "+M}},t.prototype._checkDelayState=function(){var e=this.getScene();return this._geometry?this._geometry.load(e):4===this.delayLoadState&&(this.delayLoadState=2,this._queueLoad(e)),this},t.prototype._queueLoad=function(e){var t=this;e._addPendingData(this);var i=-1!==this.delayLoadingFile.indexOf(".babylonbinarymeshdata");return s.w1.LoadFile(this.delayLoadingFile,(function(i){i instanceof ArrayBuffer?t._delayLoadingFunction(i,t):t._delayLoadingFunction(JSON.parse(i),t),t.instances.forEach((function(e){e.refreshBoundingInfo(),e._syncSubMeshes()})),t.delayLoadState=1,e._removePendingData(t)}),(function(){}),e.offlineProvider,i),this},t.prototype.isInFrustum=function(t){return 2!==this.delayLoadState&&(!!e.prototype.isInFrustum.call(this,t)&&(this._checkDelayState(),!0))},t.prototype.setMaterialByID=function(e){var t,i=this.getScene().materials;for(t=i.length-1;t>-1;t--)if(i[t].id===e)return this.material=i[t],this;var r=this.getScene().multiMaterials;for(t=r.length-1;t>-1;t--)if(r[t].id===e)return this.material=r[t],this;return this},t.prototype.getAnimatables=function(){var e=new Array;return this.material&&e.push(this.material),this.skeleton&&e.push(this.skeleton),e},t.prototype.bakeTransformIntoVertices=function(e){if(!this.isVerticesDataPresent(u.o.PositionKind))return this;var t=this.subMeshes.splice(0);this._resetPointsArrayCache();var i,r=this.getVerticesData(u.o.PositionKind),n=new Array;for(i=0;i<r.length;i+=3)h.P.TransformCoordinates(h.P.FromArray(r,i),e).toArray(n,i);if(this.setVerticesData(u.o.PositionKind,n,this.getVertexBuffer(u.o.PositionKind).isUpdatable()),this.isVerticesDataPresent(u.o.NormalKind)){for(r=this.getVerticesData(u.o.NormalKind),n=[],i=0;i<r.length;i+=3)h.P.TransformNormal(h.P.FromArray(r,i),e).normalize().toArray(n,i);this.setVerticesData(u.o.NormalKind,n,this.getVertexBuffer(u.o.NormalKind).isUpdatable())}return e.m[0]*e.m[5]*e.m[10]<0&&this.flipFaces(),this.releaseSubMeshes(),this.subMeshes=t,this},t.prototype.bakeCurrentTransformIntoVertices=function(e){return void 0===e&&(e=!0),this.bakeTransformIntoVertices(this.computeWorldMatrix(!0)),this.resetLocalMatrix(e),this},Object.defineProperty(t.prototype,"_positions",{get:function(){return this._geometry?this._geometry._positions:null},enumerable:!1,configurable:!0}),t.prototype._resetPointsArrayCache=function(){return this._geometry&&this._geometry._resetPointsArrayCache(),this},t.prototype._generatePointsArray=function(){return!!this._geometry&&this._geometry._generatePointsArray()},t.prototype.clone=function(e,i,r,n){return void 0===e&&(e=""),void 0===i&&(i=null),void 0===n&&(n=!0),new t(e,this.getScene(),i,this,r,n)},t.prototype.dispose=function(t,i){void 0===i&&(i=!1),this.morphTargetManager=null,this._geometry&&this._geometry.releaseForMesh(this,!0);var r=this._internalMeshDataInfo;if(r._onBeforeDrawObservable&&r._onBeforeDrawObservable.clear(),r._onBeforeBindObservable&&r._onBeforeBindObservable.clear(),r._onBeforeRenderObservable&&r._onBeforeRenderObservable.clear(),r._onAfterRenderObservable&&r._onAfterRenderObservable.clear(),this._scene.useClonedMeshMap){if(r.meshMap)for(var n in r.meshMap){(o=r.meshMap[n])&&(o._internalMeshDataInfo._source=null,r.meshMap[n]=void 0)}r._source&&r._source._internalMeshDataInfo.meshMap&&(r._source._internalMeshDataInfo.meshMap[this.uniqueId]=void 0)}else for(var s=0,a=this.getScene().meshes;s<a.length;s++){var o;(o=a[s])._internalMeshDataInfo&&o._internalMeshDataInfo._source&&o._internalMeshDataInfo._source===this&&(o._internalMeshDataInfo._source=null)}r._source=null,this._disposeInstanceSpecificData(),this._disposeThinInstanceSpecificData(),e.prototype.dispose.call(this,t,i)},t.prototype._disposeInstanceSpecificData=function(){},t.prototype._disposeThinInstanceSpecificData=function(){},t.prototype.applyDisplacementMap=function(e,t,i,r,n,a,o){var h=this;void 0===o&&(o=!1);var l=this.getScene();return s.w1.LoadImage(e,(function(e){var s=e.width,l=e.height,c=x.x.CreateCanvas(s,l).getContext("2d");c.drawImage(e,0,0);var u=c.getImageData(0,0,s,l).data;h.applyDisplacementMapFromBuffer(u,s,l,t,i,n,a,o),r&&r(h)}),(function(){}),l.offlineProvider),this},t.prototype.applyDisplacementMapFromBuffer=function(e,t,i,r,n,s,a,o){if(void 0===o&&(o=!1),!this.isVerticesDataPresent(u.o.PositionKind)||!this.isVerticesDataPresent(u.o.NormalKind)||!this.isVerticesDataPresent(u.o.UVKind))return M.Y.Warn("Cannot call applyDisplacementMap: Given mesh is not complete. Position, Normal or UV are missing"),this;var l=this.getVerticesData(u.o.PositionKind,!0,!0),c=this.getVerticesData(u.o.NormalKind),f=this.getVerticesData(u.o.UVKind),g=h.P.Zero(),p=h.P.Zero(),m=h.FM.Zero();s=s||h.FM.Zero(),a=a||new h.FM(1,1);for(var y=0;y<l.length;y+=3){h.P.FromArrayToRef(l,y,g),h.P.FromArrayToRef(c,y,p),h.FM.FromArrayToRef(f,y/3*2,m);var v=4*((Math.abs(m.x*a.x+s.x%1)*(t-1)%t|0)+(Math.abs(m.y*a.y+s.y%1)*(i-1)%i|0)*t),_=.3*(e[v]/255)+.59*(e[v+1]/255)+.11*(e[v+2]/255);p.normalize(),p.scaleInPlace(r+(n-r)*_),(g=g.add(p)).toArray(l,y)}return d.x.ComputeNormals(l,this.getIndices(),c),o?(this.setVerticesData(u.o.PositionKind,l),this.setVerticesData(u.o.NormalKind,c)):(this.updateVerticesData(u.o.PositionKind,l),this.updateVerticesData(u.o.NormalKind,c)),this},t.prototype.convertToFlatShadedMesh=function(){var e,t,i=this.getVerticesDataKinds(),r={},n={},s={},a=!1;for(e=0;e<i.length;e++){t=i[e];var o=this.getVertexBuffer(t);t!==u.o.NormalKind?(r[t]=o,n[t]=r[t].getData(),s[t]=[]):(a=o.isUpdatable(),i.splice(e,1),e--)}var l,c=this.subMeshes.slice(0),d=this.getIndices(),f=this.getTotalIndices();for(l=0;l<f;l++){var g=d[l];for(e=0;e<i.length;e++)for(var m=r[t=i[e]].getStrideSize(),y=0;y<m;y++)s[t].push(n[t][g*m+y])}var v=[],_=s[u.o.PositionKind];for(l=0;l<f;l+=3){d[l]=l,d[l+1]=l+1,d[l+2]=l+2;for(var I=h.P.FromArray(_,3*l),M=h.P.FromArray(_,3*(l+1)),b=h.P.FromArray(_,3*(l+2)),D=I.subtract(M),S=b.subtract(M),B=h.P.Normalize(h.P.Cross(D,S)),x=0;x<3;x++)v.push(B.x),v.push(B.y),v.push(B.z)}for(this.setIndices(d),this.setVerticesData(u.o.NormalKind,v,a),e=0;e<i.length;e++)t=i[e],this.setVerticesData(t,s[t],r[t].isUpdatable());this.releaseSubMeshes();for(var A=0;A<c.length;A++){var P=c[A];p.P.AddToMesh(P.materialIndex,P.indexStart,P.indexCount,P.indexStart,P.indexCount,this)}return this.synchronizeInstances(),this},t.prototype.convertToUnIndexedMesh=function(){var e,t,i=this.getVerticesDataKinds(),r={},n={},s={};for(e=0;e<i.length;e++){t=i[e];var a=this.getVertexBuffer(t);r[t]=a,n[t]=r[t].getData(),s[t]=[]}var o,h=this.subMeshes.slice(0),l=this.getIndices(),c=this.getTotalIndices();for(o=0;o<c;o++){var u=l[o];for(e=0;e<i.length;e++)for(var d=r[t=i[e]].getStrideSize(),f=0;f<d;f++)s[t].push(n[t][u*d+f])}for(o=0;o<c;o+=3)l[o]=o,l[o+1]=o+1,l[o+2]=o+2;for(this.setIndices(l),e=0;e<i.length;e++)t=i[e],this.setVerticesData(t,s[t],r[t].isUpdatable());this.releaseSubMeshes();for(var g=0;g<h.length;g++){var m=h[g];p.P.AddToMesh(m.materialIndex,m.indexStart,m.indexCount,m.indexStart,m.indexCount,this)}return this._unIndexed=!0,this.synchronizeInstances(),this},t.prototype.flipFaces=function(e){void 0===e&&(e=!1);var t,i,r=d.x.ExtractFromMesh(this);if(e&&this.isVerticesDataPresent(u.o.NormalKind)&&r.normals)for(t=0;t<r.normals.length;t++)r.normals[t]*=-1;if(r.indices)for(t=0;t<r.indices.length;t+=3)i=r.indices[t+1],r.indices[t+1]=r.indices[t+2],r.indices[t+2]=i;return r.applyToMesh(this,this.isVertexBufferUpdatable(u.o.PositionKind)),this},t.prototype.increaseVertices=function(e){var t=d.x.ExtractFromMesh(this),i=t.uvs,r=t.indices,n=t.positions,s=t.normals;if(r&&n&&s&&i){for(var a,o,l=e+1,c=new Array,f=0;f<l+1;f++)c[f]=new Array;var g,p=new h.P(0,0,0),m=new h.P(0,0,0),y=new h.FM(0,0),v=new Array,_=new Array,I=new Array,b=n.length,D=i.length;for(f=0;f<r.length;f+=3){_[0]=r[f],_[1]=r[f+1],_[2]=r[f+2];for(var S=0;S<3;S++)if(a=_[S],o=_[(S+1)%3],void 0===I[a]&&void 0===I[o]?(I[a]=new Array,I[o]=new Array):(void 0===I[a]&&(I[a]=new Array),void 0===I[o]&&(I[o]=new Array)),void 0===I[a][o]&&void 0===I[o][a]){I[a][o]=[],p.x=(n[3*o]-n[3*a])/l,p.y=(n[3*o+1]-n[3*a+1])/l,p.z=(n[3*o+2]-n[3*a+2])/l,m.x=(s[3*o]-s[3*a])/l,m.y=(s[3*o+1]-s[3*a+1])/l,m.z=(s[3*o+2]-s[3*a+2])/l,y.x=(i[2*o]-i[2*a])/l,y.y=(i[2*o+1]-i[2*a+1])/l,I[a][o].push(a);for(var B=1;B<l;B++)I[a][o].push(n.length/3),n[b]=n[3*a]+B*p.x,s[b++]=s[3*a]+B*m.x,n[b]=n[3*a+1]+B*p.y,s[b++]=s[3*a+1]+B*m.y,n[b]=n[3*a+2]+B*p.z,s[b++]=s[3*a+2]+B*m.z,i[D++]=i[2*a]+B*y.x,i[D++]=i[2*a+1]+B*y.y;I[a][o].push(o),I[o][a]=new Array,g=I[a][o].length;for(var x=0;x<g;x++)I[o][a][x]=I[a][o][g-1-x]}c[0][0]=r[f],c[1][0]=I[r[f]][r[f+1]][1],c[1][1]=I[r[f]][r[f+2]][1];for(B=2;B<l;B++){c[B][0]=I[r[f]][r[f+1]][B],c[B][B]=I[r[f]][r[f+2]][B],p.x=(n[3*c[B][B]]-n[3*c[B][0]])/B,p.y=(n[3*c[B][B]+1]-n[3*c[B][0]+1])/B,p.z=(n[3*c[B][B]+2]-n[3*c[B][0]+2])/B,m.x=(s[3*c[B][B]]-s[3*c[B][0]])/B,m.y=(s[3*c[B][B]+1]-s[3*c[B][0]+1])/B,m.z=(s[3*c[B][B]+2]-s[3*c[B][0]+2])/B,y.x=(i[2*c[B][B]]-i[2*c[B][0]])/B,y.y=(i[2*c[B][B]+1]-i[2*c[B][0]+1])/B;for(S=1;S<B;S++)c[B][S]=n.length/3,n[b]=n[3*c[B][0]]+S*p.x,s[b++]=s[3*c[B][0]]+S*m.x,n[b]=n[3*c[B][0]+1]+S*p.y,s[b++]=s[3*c[B][0]+1]+S*m.y,n[b]=n[3*c[B][0]+2]+S*p.z,s[b++]=s[3*c[B][0]+2]+S*m.z,i[D++]=i[2*c[B][0]]+S*y.x,i[D++]=i[2*c[B][0]+1]+S*y.y}c[l]=I[r[f+1]][r[f+2]],v.push(c[0][0],c[1][0],c[1][1]);for(B=1;B<l;B++){for(S=0;S<B;S++)v.push(c[B][S],c[B+1][S],c[B+1][S+1]),v.push(c[B][S],c[B+1][S+1],c[B][S+1]);v.push(c[B][S],c[B+1][S],c[B+1][S+1])}}t.indices=v,t.applyToMesh(this,this.isVertexBufferUpdatable(u.o.PositionKind))}else M.Y.Warn("VertexData contains null entries")},t.prototype.forceSharedVertices=function(){var e=d.x.ExtractFromMesh(this),t=e.uvs,i=e.indices,r=e.positions,n=e.colors;if(void 0===i||void 0===r||null===i||null===r)M.Y.Warn("VertexData contains empty entries");else{for(var s,a,o=new Array,h=new Array,l=new Array,c=new Array,f=new Array,g=0,p={},m=0;m<i.length;m+=3){a=[i[m],i[m+1],i[m+2]],f=new Array;for(var y=0;y<3;y++){f[y]="";for(var v=0;v<3;v++)Math.abs(r[3*a[y]+v])<1e-8&&(r[3*a[y]+v]=0),f[y]+=r[3*a[y]+v]+"|"}if(f[0]!=f[1]&&f[0]!=f[2]&&f[1]!=f[2])for(y=0;y<3;y++){if(void 0===(s=p[f[y]])){p[f[y]]=g,s=g++;for(v=0;v<3;v++)o.push(r[3*a[y]+v]);if(null!=n)for(v=0;v<4;v++)c.push(n[4*a[y]+v]);if(null!=t)for(v=0;v<2;v++)l.push(t[2*a[y]+v])}h.push(s)}}var _=new Array;d.x.ComputeNormals(o,h,_),e.positions=o,e.indices=h,e.normals=_,null!=t&&(e.uvs=l),null!=n&&(e.colors=c),e.applyToMesh(this,this.isVertexBufferUpdatable(u.o.PositionKind))}},t._instancedMeshFactory=function(e,t){throw D.f.WarnImport("InstancedMesh")},t._PhysicsImpostorParser=function(e,t,i){throw D.f.WarnImport("PhysicsImpostor")},t.prototype.createInstance=function(e){var i=this.geometry;if(i&&i.meshes.length>1)for(var r=0,n=i.meshes.slice(0);r<n.length;r++){var s=n[r];s!==this&&s.makeGeometryUnique()}return t._instancedMeshFactory(e,this)},t.prototype.synchronizeInstances=function(){this._geometry&&1!==this._geometry.meshes.length&&this.instances.length&&this.makeGeometryUnique();for(var e=0;e<this.instances.length;e++){this.instances[e]._syncSubMeshes()}return this},t.prototype.optimizeIndices=function(e){var t=this,i=this.getIndices(),r=this.getVerticesData(u.o.PositionKind);if(!r||!i)return this;for(var n=new Array,a=0;a<r.length;a+=3)n.push(h.P.FromArray(r,a));var o=new Array;return s.$g.SyncAsyncForLoop(n.length,40,(function(e){for(var t=n.length-1-e,i=n[t],r=0;r<t;++r){var s=n[r];if(i.equals(s)){o[t]=r;break}}}),(function(){for(var r=0;r<i.length;++r)i[r]=o[i[r]]||i[r];var n=t.subMeshes.slice(0);t.setIndices(i),t.subMeshes=n,e&&e(t)})),this},t.prototype.serialize=function(e){e.name=this.name,e.id=this.id,e.uniqueId=this.uniqueId,e.type=this.getClassName(),o.$&&o.$.HasTags(this)&&(e.tags=o.$.GetTags(this)),e.position=this.position.asArray(),this.rotationQuaternion?e.rotationQuaternion=this.rotationQuaternion.asArray():this.rotation&&(e.rotation=this.rotation.asArray()),e.scaling=this.scaling.asArray(),this._postMultiplyPivotMatrix?e.pivotMatrix=this.getPivotMatrix().asArray():e.localMatrix=this.getPivotMatrix().asArray(),e.isEnabled=this.isEnabled(!1),e.isVisible=this.isVisible,e.infiniteDistance=this.infiniteDistance,e.pickable=this.isPickable,e.receiveShadows=this.receiveShadows,e.billboardMode=this.billboardMode,e.visibility=this.visibility,e.checkCollisions=this.checkCollisions,e.isBlocker=this.isBlocker,e.overrideMaterialSideOrientation=this.overrideMaterialSideOrientation,this.parent&&(e.parentId=this.parent.id),e.isUnIndexed=this.isUnIndexed;var t=this._geometry;if(t){var i=t.id;e.geometryId=i,e.subMeshes=[];for(var r=0;r<this.subMeshes.length;r++){var n=this.subMeshes[r];e.subMeshes.push({materialIndex:n.materialIndex,verticesStart:n.verticesStart,verticesCount:n.verticesCount,indexStart:n.indexStart,indexCount:n.indexCount})}}(this.material?this.material.doNotSerialize||(e.materialId=this.material.id):this.material=null,this.morphTargetManager&&(e.morphTargetManagerId=this.morphTargetManager.uniqueId),this.skeleton&&(e.skeletonId=this.skeleton.id,e.numBoneInfluencers=this.numBoneInfluencers),this.getScene()._getComponent(S.l.NAME_PHYSICSENGINE))&&((l=this.getPhysicsImpostor())&&(e.physicsMass=l.getParam("mass"),e.physicsFriction=l.getParam("friction"),e.physicsRestitution=l.getParam("mass"),e.physicsImpostor=l.type));this.metadata&&(e.metadata=this.metadata),e.instances=[];for(var a=0;a<this.instances.length;a++){var h=this.instances[a];if(!h.doNotSerialize){var l,c={name:h.name,id:h.id,isEnabled:h.isEnabled(!1),isVisible:h.isVisible,isPickable:h.isPickable,checkCollisions:h.checkCollisions,position:h.position.asArray(),scaling:h.scaling.asArray()};if(h.parent&&(c.parentId=h.parent.id),h.rotationQuaternion?c.rotationQuaternion=h.rotationQuaternion.asArray():h.rotation&&(c.rotation=h.rotation.asArray()),this.getScene()._getComponent(S.l.NAME_PHYSICSENGINE))(l=h.getPhysicsImpostor())&&(c.physicsMass=l.getParam("mass"),c.physicsFriction=l.getParam("friction"),c.physicsRestitution=l.getParam("mass"),c.physicsImpostor=l.type);h.metadata&&(c.metadata=h.metadata),e.instances.push(c),I.p4.AppendSerializedAnimations(h,c),c.ranges=h.serializeAnimationRanges()}}if(this._thinInstanceDataStorage.instancesCount&&this._thinInstanceDataStorage.matrixData&&(e.thinInstances={instancesCount:this._thinInstanceDataStorage.instancesCount,matrixData:s.w1.SliceToArray(this._thinInstanceDataStorage.matrixData),matrixBufferSize:this._thinInstanceDataStorage.matrixBufferSize},this._userThinInstanceBuffersStorage)){var u={data:{},sizes:{},strides:{}};for(var d in this._userThinInstanceBuffersStorage.data)u.data[d]=s.w1.SliceToArray(this._userThinInstanceBuffersStorage.data[d]),u.sizes[d]=this._userThinInstanceBuffersStorage.sizes[d],u.strides[d]=this._userThinInstanceBuffersStorage.strides[d];e.thinInstances.userThinInstance=u}I.p4.AppendSerializedAnimations(this,e),e.ranges=this.serializeAnimationRanges(),e.layerMask=this.layerMask,e.alphaIndex=this.alphaIndex,e.hasVertexAlpha=this.hasVertexAlpha,e.overlayAlpha=this.overlayAlpha,e.overlayColor=this.overlayColor.asArray(),e.renderOverlay=this.renderOverlay,e.applyFog=this.applyFog,this.actionManager&&(e.actions=this.actionManager.serialize(this.name))},t.prototype._syncGeometryWithMorphTargetManager=function(){if(this.geometry){this._markSubMeshesAsAttributesDirty();var e=this._internalMeshDataInfo._morphTargetManager;if(e&&e.vertexCount){if(e.vertexCount!==this.getTotalVertices())return M.Y.Error("Mesh is incompatible with morph targets. Targets and mesh must all have the same vertices count."),void(this.morphTargetManager=null);for(var t=0;t<e.numInfluencers;t++){var i=e.getActiveTarget(t),r=i.getPositions();if(!r)return void M.Y.Error("Invalid morph target. Target must have positions.");this.geometry.setVerticesData(u.o.PositionKind+t,r,!1,3);var n=i.getNormals();n&&this.geometry.setVerticesData(u.o.NormalKind+t,n,!1,3);var s=i.getTangents();s&&this.geometry.setVerticesData(u.o.TangentKind+t,s,!1,3);var a=i.getUVs();a&&this.geometry.setVerticesData(u.o.UVKind+"_"+t,a,!1,2)}}else for(t=0;this.geometry.isVerticesDataPresent(u.o.PositionKind+t);)this.geometry.removeVerticesData(u.o.PositionKind+t),this.geometry.isVerticesDataPresent(u.o.NormalKind+t)&&this.geometry.removeVerticesData(u.o.NormalKind+t),this.geometry.isVerticesDataPresent(u.o.TangentKind+t)&&this.geometry.removeVerticesData(u.o.TangentKind+t),this.geometry.isVerticesDataPresent(u.o.UVKind+t)&&this.geometry.removeVerticesData(u.o.UVKind+"_"+t),t++}},t.Parse=function(e,i,r){var n;if((n=e.type&&"GroundMesh"===e.type?t._GroundMeshParser(e,i):new t(e.name,i)).id=e.id,o.$&&o.$.AddTagsTo(n,e.tags),n.position=h.P.FromArray(e.position),void 0!==e.metadata&&(n.metadata=e.metadata),e.rotationQuaternion?n.rotationQuaternion=h._f.FromArray(e.rotationQuaternion):e.rotation&&(n.rotation=h.P.FromArray(e.rotation)),n.scaling=h.P.FromArray(e.scaling),e.localMatrix?n.setPreTransformMatrix(h.y3.FromArray(e.localMatrix)):e.pivotMatrix&&n.setPivotMatrix(h.y3.FromArray(e.pivotMatrix)),n.setEnabled(e.isEnabled),n.isVisible=e.isVisible,n.infiniteDistance=e.infiniteDistance,n.showBoundingBox=e.showBoundingBox,n.showSubMeshesBoundingBox=e.showSubMeshesBoundingBox,void 0!==e.applyFog&&(n.applyFog=e.applyFog),void 0!==e.pickable&&(n.isPickable=e.pickable),void 0!==e.alphaIndex&&(n.alphaIndex=e.alphaIndex),n.receiveShadows=e.receiveShadows,n.billboardMode=e.billboardMode,void 0!==e.visibility&&(n.visibility=e.visibility),n.checkCollisions=e.checkCollisions,n.overrideMaterialSideOrientation=e.overrideMaterialSideOrientation,void 0!==e.isBlocker&&(n.isBlocker=e.isBlocker),n._shouldGenerateFlatShading=e.useFlatShading,e.freezeWorldMatrix&&(n._waitingData.freezeWorldMatrix=e.freezeWorldMatrix),e.parentId&&(n._waitingParentId=e.parentId),void 0!==e.actions&&(n._waitingData.actions=e.actions),void 0!==e.overlayAlpha&&(n.overlayAlpha=e.overlayAlpha),void 0!==e.overlayColor&&(n.overlayColor=l.Wo.FromArray(e.overlayColor)),void 0!==e.renderOverlay&&(n.renderOverlay=e.renderOverlay),n.isUnIndexed=!!e.isUnIndexed,n.hasVertexAlpha=e.hasVertexAlpha,e.delayLoadingFile?(n.delayLoadState=4,n.delayLoadingFile=r+e.delayLoadingFile,n._boundingInfo=new m.j(h.P.FromArray(e.boundingBoxMinimum),h.P.FromArray(e.boundingBoxMaximum)),e._binaryInfo&&(n._binaryInfo=e._binaryInfo),n._delayInfo=[],e.hasUVs&&n._delayInfo.push(u.o.UVKind),e.hasUVs2&&n._delayInfo.push(u.o.UV2Kind),e.hasUVs3&&n._delayInfo.push(u.o.UV3Kind),e.hasUVs4&&n._delayInfo.push(u.o.UV4Kind),e.hasUVs5&&n._delayInfo.push(u.o.UV5Kind),e.hasUVs6&&n._delayInfo.push(u.o.UV6Kind),e.hasColors&&n._delayInfo.push(u.o.ColorKind),e.hasMatricesIndices&&n._delayInfo.push(u.o.MatricesIndicesKind),e.hasMatricesWeights&&n._delayInfo.push(u.o.MatricesWeightsKind),n._delayLoadingFunction=f.Z._ImportGeometry,_.Z.ForceFullSceneLoadingForIncremental&&n._checkDelayState()):f.Z._ImportGeometry(e,n),e.materialId?n.setMaterialByID(e.materialId):n.material=null,e.morphTargetManagerId>-1&&(n.morphTargetManager=i.getMorphTargetManagerById(e.morphTargetManagerId)),void 0!==e.skeletonId&&null!==e.skeletonId&&(n.skeleton=i.getLastSkeletonByID(e.skeletonId),e.numBoneInfluencers&&(n.numBoneInfluencers=e.numBoneInfluencers)),e.animations){for(var s=0;s<e.animations.length;s++){var a=e.animations[s];(y=b.Q.GetClass("BABYLON.Animation"))&&n.animations.push(y.Parse(a))}c.N.ParseAnimationRanges(n,e,i)}if(e.autoAnimate&&i.beginAnimation(n,e.autoAnimateFrom,e.autoAnimateTo,e.autoAnimateLoop,e.autoAnimateSpeed||1),e.layerMask&&!isNaN(e.layerMask)?n.layerMask=Math.abs(parseInt(e.layerMask)):n.layerMask=268435455,e.physicsImpostor&&t._PhysicsImpostorParser(i,n,e),e.lodMeshIds&&(n._waitingData.lods={ids:e.lodMeshIds,distances:e.lodDistances?e.lodDistances:null,coverages:e.lodCoverages?e.lodCoverages:null}),e.instances)for(var d=0;d<e.instances.length;d++){var g=e.instances[d],p=n.createInstance(g.name);if(g.id&&(p.id=g.id),o.$&&(g.tags?o.$.AddTagsTo(p,g.tags):o.$.AddTagsTo(p,e.tags)),p.position=h.P.FromArray(g.position),void 0!==g.metadata&&(p.metadata=g.metadata),g.parentId&&(p._waitingParentId=g.parentId),void 0!==g.isEnabled&&null!==g.isEnabled&&p.setEnabled(g.isEnabled),void 0!==g.isVisible&&null!==g.isVisible&&(p.isVisible=g.isVisible),void 0!==g.isPickable&&null!==g.isPickable&&(p.isPickable=g.isPickable),g.rotationQuaternion?p.rotationQuaternion=h._f.FromArray(g.rotationQuaternion):g.rotation&&(p.rotation=h.P.FromArray(g.rotation)),p.scaling=h.P.FromArray(g.scaling),null!=g.checkCollisions&&null!=g.checkCollisions&&(p.checkCollisions=g.checkCollisions),null!=g.pickable&&null!=g.pickable&&(p.isPickable=g.pickable),null!=g.showBoundingBox&&null!=g.showBoundingBox&&(p.showBoundingBox=g.showBoundingBox),null!=g.showSubMeshesBoundingBox&&null!=g.showSubMeshesBoundingBox&&(p.showSubMeshesBoundingBox=g.showSubMeshesBoundingBox),null!=g.alphaIndex&&null!=g.showSubMeshesBoundingBox&&(p.alphaIndex=g.alphaIndex),g.physicsImpostor&&t._PhysicsImpostorParser(i,p,g),g.animations){for(s=0;s<g.animations.length;s++){var y;a=g.animations[s],(y=b.Q.GetClass("BABYLON.Animation"))&&p.animations.push(y.Parse(a))}c.N.ParseAnimationRanges(p,g,i),g.autoAnimate&&i.beginAnimation(p,g.autoAnimateFrom,g.autoAnimateTo,g.autoAnimateLoop,g.autoAnimateSpeed||1)}}if(e.thinInstances){var v=e.thinInstances;if(v.matrixData?(n.thinInstanceSetBuffer("matrix",new Float32Array(v.matrixData),16,!1),n._thinInstanceDataStorage.matrixBufferSize=v.matrixBufferSize,n._thinInstanceDataStorage.instancesCount=v.instancesCount):n._thinInstanceDataStorage.matrixBufferSize=v.matrixBufferSize,e.thinInstances.userThinInstance){var I=e.thinInstances.userThinInstance;for(var M in I.data)n.thinInstanceSetBuffer(M,new Float32Array(I.data[M]),I.strides[M],!1),n._userThinInstanceBuffersStorage.sizes[M]=I.sizes[M]}}return n},t.CreateRibbon=function(e,t,i,r,n,s,a,o,h){throw D.f.WarnImport("MeshBuilder")},t.CreateDisc=function(e,t,i,r,n,s){throw void 0===r&&(r=null),D.f.WarnImport("MeshBuilder")},t.CreateBox=function(e,t,i,r,n){throw void 0===i&&(i=null),D.f.WarnImport("MeshBuilder")},t.CreateSphere=function(e,t,i,r,n,s){throw D.f.WarnImport("MeshBuilder")},t.CreateHemisphere=function(e,t,i,r){throw D.f.WarnImport("MeshBuilder")},t.CreateCylinder=function(e,t,i,r,n,s,a,o,h){throw D.f.WarnImport("MeshBuilder")},t.CreateTorus=function(e,t,i,r,n,s,a){throw D.f.WarnImport("MeshBuilder")},t.CreateTorusKnot=function(e,t,i,r,n,s,a,o,h,l){throw D.f.WarnImport("MeshBuilder")},t.CreateLines=function(e,t,i,r,n){throw void 0===i&&(i=null),void 0===r&&(r=!1),void 0===n&&(n=null),D.f.WarnImport("MeshBuilder")},t.CreateDashedLines=function(e,t,i,r,n,s,a,o){throw void 0===s&&(s=null),D.f.WarnImport("MeshBuilder")},t.CreatePolygon=function(e,t,i,r,n,s,a){throw void 0===a&&(a=earcut),D.f.WarnImport("MeshBuilder")},t.ExtrudePolygon=function(e,t,i,r,n,s,a,o){throw void 0===o&&(o=earcut),D.f.WarnImport("MeshBuilder")},t.ExtrudeShape=function(e,t,i,r,n,s,a,o,h,l){throw void 0===a&&(a=null),D.f.WarnImport("MeshBuilder")},t.ExtrudeShapeCustom=function(e,t,i,r,n,s,a,o,h,l,c,u){throw D.f.WarnImport("MeshBuilder")},t.CreateLathe=function(e,t,i,r,n,s,a){throw D.f.WarnImport("MeshBuilder")},t.CreatePlane=function(e,t,i,r,n){throw D.f.WarnImport("MeshBuilder")},t.CreateGround=function(e,t,i,r,n,s){throw D.f.WarnImport("MeshBuilder")},t.CreateTiledGround=function(e,t,i,r,n,s,a,o,h){throw D.f.WarnImport("MeshBuilder")},t.CreateGroundFromHeightMap=function(e,t,i,r,n,s,a,o,h,l,c){throw D.f.WarnImport("MeshBuilder")},t.CreateTube=function(e,t,i,r,n,s,a,o,h,l){throw D.f.WarnImport("MeshBuilder")},t.CreatePolyhedron=function(e,t,i){throw D.f.WarnImport("MeshBuilder")},t.CreateIcoSphere=function(e,t,i){throw D.f.WarnImport("MeshBuilder")},t.CreateDecal=function(e,t,i,r,n,s){throw D.f.WarnImport("MeshBuilder")},t.CreateCapsule=function(e,t,i){throw D.f.WarnImport("MeshBuilder")},t.prototype.setPositionsForCPUSkinning=function(){var e=this._internalMeshDataInfo;if(!e._sourcePositions){var t=this.getVerticesData(u.o.PositionKind);if(!t)return e._sourcePositions;e._sourcePositions=new Float32Array(t),this.isVertexBufferUpdatable(u.o.PositionKind)||this.setVerticesData(u.o.PositionKind,t,!0)}return e._sourcePositions},t.prototype.setNormalsForCPUSkinning=function(){var e=this._internalMeshDataInfo;if(!e._sourceNormals){var t=this.getVerticesData(u.o.NormalKind);if(!t)return e._sourceNormals;e._sourceNormals=new Float32Array(t),this.isVertexBufferUpdatable(u.o.NormalKind)||this.setVerticesData(u.o.NormalKind,t,!0)}return e._sourceNormals},t.prototype.applySkeleton=function(e){if(!this.geometry)return this;if(this.geometry._softwareSkinningFrameId==this.getScene().getFrameId())return this;if(this.geometry._softwareSkinningFrameId=this.getScene().getFrameId(),!this.isVerticesDataPresent(u.o.PositionKind))return this;if(!this.isVerticesDataPresent(u.o.MatricesIndicesKind))return this;if(!this.isVerticesDataPresent(u.o.MatricesWeightsKind))return this;var t=this.isVerticesDataPresent(u.o.NormalKind),i=this._internalMeshDataInfo;if(!i._sourcePositions){var r=this.subMeshes.slice();this.setPositionsForCPUSkinning(),this.subMeshes=r}t&&!i._sourceNormals&&this.setNormalsForCPUSkinning();var n=this.getVerticesData(u.o.PositionKind);if(!n)return this;n instanceof Float32Array||(n=new Float32Array(n));var s=this.getVerticesData(u.o.NormalKind);if(t){if(!s)return this;s instanceof Float32Array||(s=new Float32Array(s))}var a=this.getVerticesData(u.o.MatricesIndicesKind),o=this.getVerticesData(u.o.MatricesWeightsKind);if(!o||!a)return this;for(var l,c=this.numBoneInfluencers>4,d=c?this.getVerticesData(u.o.MatricesIndicesExtraKind):null,f=c?this.getVerticesData(u.o.MatricesWeightsExtraKind):null,g=e.getTransformMatrices(this),p=h.P.Zero(),m=new h.y3,y=new h.y3,v=0,_=0;_<n.length;_+=3,v+=4){var I;for(l=0;l<4;l++)(I=o[v+l])>0&&(h.y3.FromFloat32ArrayToRefScaled(g,Math.floor(16*a[v+l]),I,y),m.addToSelf(y));if(c)for(l=0;l<4;l++)(I=f[v+l])>0&&(h.y3.FromFloat32ArrayToRefScaled(g,Math.floor(16*d[v+l]),I,y),m.addToSelf(y));h.P.TransformCoordinatesFromFloatsToRef(i._sourcePositions[_],i._sourcePositions[_+1],i._sourcePositions[_+2],m,p),p.toArray(n,_),t&&(h.P.TransformNormalFromFloatsToRef(i._sourceNormals[_],i._sourceNormals[_+1],i._sourceNormals[_+2],m,p),p.toArray(s,_)),m.reset()}return this.updateVerticesData(u.o.PositionKind,n),t&&this.updateVerticesData(u.o.NormalKind,s),this},t.MinMax=function(e){var t=null,i=null;return e.forEach((function(e){var r=e.getBoundingInfo().boundingBox;t&&i?(t.minimizeInPlace(r.minimumWorld),i.maximizeInPlace(r.maximumWorld)):(t=r.minimumWorld,i=r.maximumWorld)})),t&&i?{min:t,max:i}:{min:h.P.Zero(),max:h.P.Zero()}},t.Center=function(e){var i=e instanceof Array?t.MinMax(e):e;return h.P.Center(i.min,i.max)},t.MergeMeshes=function(e,i,r,n,s,a){var o;if(void 0===i&&(i=!0),!r){var h=0;for(o=0;o<e.length;o++)if(e[o]&&(h+=e[o].getTotalVertices())>=65536)return M.Y.Warn("Cannot merge meshes because resulting mesh will have more than 65536 vertices. Please use allow32BitsIndices = true to use 32 bits indices"),null}if(a){var l,c,u=null;s=!1}var f,g=new Array,m=new Array,y=null,_=new Array,I=null;for(o=0;o<e.length;o++)if(e[o]){var b=e[o];if(b.isAnInstance)return M.Y.Warn("Cannot merge instance meshes."),null;var D=b.computeWorldMatrix(!0);if((f=d.x.ExtractFromMesh(b,!0,!0)).transform(D),y?y.merge(f,r):(y=f,I=b),s&&_.push(b.getTotalIndices()),a)if(b.material){var S=b.material;if(S instanceof v.G){for(c=0;c<S.subMaterials.length;c++)g.indexOf(S.subMaterials[c])<0&&g.push(S.subMaterials[c]);for(l=0;l<b.subMeshes.length;l++)m.push(g.indexOf(S.subMaterials[b.subMeshes[l].materialIndex])),_.push(b.subMeshes[l].indexCount)}else for(g.indexOf(S)<0&&g.push(S),l=0;l<b.subMeshes.length;l++)m.push(g.indexOf(S)),_.push(b.subMeshes[l].indexCount)}else for(l=0;l<b.subMeshes.length;l++)m.push(0),_.push(b.subMeshes[l].indexCount)}if(n||(n=new t(I.name+"_merged",I.getScene())),y.applyToMesh(n),n.checkCollisions=I.checkCollisions,n.overrideMaterialSideOrientation=I.overrideMaterialSideOrientation,i)for(o=0;o<e.length;o++)e[o]&&e[o].dispose();if(s||a){n.releaseSubMeshes(),o=0;for(var B=0;o<_.length;)p.P.CreateFromIndices(0,B,_[o],n),B+=_[o],o++}if(a){for((u=new v.G(I.name+"_merged",I.getScene())).subMaterials=g,l=0;l<n.subMeshes.length;l++)n.subMeshes[l].materialIndex=m[l];n.material=u}else n.material=I.material;return n},t.prototype.addInstance=function(e){e._indexInSourceMeshInstanceArray=this.instances.length,this.instances.push(e)},t.prototype.removeInstance=function(e){var t=e._indexInSourceMeshInstanceArray;if(-1!=t){if(t!==this.instances.length-1){var i=this.instances[this.instances.length-1];this.instances[t]=i,i._indexInSourceMeshInstanceArray=t}e._indexInSourceMeshInstanceArray=-1,this.instances.pop()}},t.FRONTSIDE=d.x.FRONTSIDE,t.BACKSIDE=d.x.BACKSIDE,t.DOUBLESIDE=d.x.DOUBLESIDE,t.DEFAULTSIDE=d.x.DEFAULTSIDE,t.NO_CAP=0,t.CAP_START=1,t.CAP_END=2,t.CAP_ALL=3,t.NO_FLIP=0,t.FLIP_TILE=1,t.ROTATE_TILE=2,t.FLIP_ROW=3,t.ROTATE_ROW=4,t.FLIP_N_ROTATE_TILE=5,t.FLIP_N_ROTATE_ROW=6,t.CENTER=0,t.LEFT=1,t.RIGHT=2,t.TOP=3,t.BOTTOM=4,t._GroundMeshParser=function(e,t){throw D.f.WarnImport("GroundMesh")},t}(g.x);b.Q.RegisteredTypes["BABYLON.Mesh"]=F}}]);
//# sourceMappingURL=87a06baf-1dce388ec3938887978c.js.map